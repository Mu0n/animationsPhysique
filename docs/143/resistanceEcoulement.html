<div class="imageContainer aspectRation2-1"><div id="resistanceEcoulement"></div></div>

<div class="controls">
  <label for="sourceTaille">Taille de la source:&nbsp;<input type="range" id="sourceTaille" name="sourceTaille" value="20" max="50" min="0" step="0.1" oninput="redraw()" onchange="redraw()"></label>
  <div class='controlGroup'>
    <label for="objetTaille">Taille de l'objet:&nbsp;<input type="range" id="objetTaille" name="objetTaille" value="15" max="50" min="10"  step="0.1" oninput="redraw()" onchange="redraw()"></label><br>
    <label for="objetPosition">Position de l'objet:&nbsp;<input type="range" id="objetPosition" name="objetPosition" value="450" max="600" min="300" step="0.1" oninput="redraw()" onchange="redraw()"></label>
  </div>
  <div class='controlGroup'>
    <label for="observateur">Observateur visible:&nbsp;<input type="checkbox" class="switch" id="observateur" name="observateur" oninput="redraw()" onchange="redraw()"></label><br>
    <label for="observateurPosition" style="display:none;" id="observateurPositionControl">Position de l'observateur:&nbsp;<input type="range" id="observateurPosition" name="observateurPosition" value="50" max="180" min="-180" step="0.1"  oninput="redraw()" onchange="redraw()"></label>
  </div>
</div>

<script src='utils/includes/pipes.js'></script>
<script>
  //Création de l'élément svg (l'image).
  var draw = SVG('resistanceEcoulement').viewbox({ x: 0, y: 0, width: 1000, height: 500 });

	draw.svg(vPipe);
	draw.svg(hPipe);

 	//Création des différents éléments de l'image
 	var tube1 = draw.rect(200,120).attr({ x: 20, y: 60, fill: "url(#hPipe)"});
	var fitting1 = draw.rect(150,150).attr({x:220, y:45, fill: darkCopper});
	var threads1 = draw.threads({width:120, length:100, threads:6}).move(220,60);

	var tube2 = draw.rect(40,150).attr({ x: 500, y: 200, fill: "url(#vPipe)"});
	var fitting2 = draw.rect(150,150).attr({x:445, y:50, fill: darkCopper});
	var threads2 = draw.threads({width:40, length:60, threads:8, outward:true}).move(500,200).rotate(270,0,0);

	//Redessine l'image en tenant compte des contrôles externes
  redraw();

  function redraw() {

  }

</script>
